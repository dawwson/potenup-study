## 변수와 데이터 타입 - 섹션 2.1 변수 선언과 할당

🎬 도입 스토리 <br>
'뉴런테크'의 신입 사원인 당신은 이제 막 기초를 뗐습니다. 팀장은 당신에게 새로운 임무를 줍니다. "우리 회사가 개발 중인 RPG 게임의 '캐릭터 정보 시스템' 초기 모델을 만들어 보세요. 캐릭터의 이름, 레벨, 체력 수치를 다뤄야 합니다."

당신은 생각합니다. '어제 배운 print()로 그냥 화면에 찍으면 되나?' 하지만 문제가 생깁니다. 게임 중에 몬스터에게 공격을 받으면 체력이 줄어들어야 하고, 레벨업을 하면 숫자가 커져야 합니다. 단순히 print(100)이라고 코드를 짜두면, 나중에 이 숫자가 90으로 변했을 때 프로그램 전체를 뒤져서 숫자를 일일이 수정해야 할까요?

시니어 개발자는 말합니다. "데이터는 살아 움직이는 생물과 같습니다. 그 데이터를 어딘가에 안전하게 담아두고, 필요할 때마다 꺼내 쓰거나 내용을 바꿀 수 있는 '이름표'가 필요하죠. 그것이 바로 **변수(Variable)** 입니다. 오늘 우리는 메모리라는 거대한 창고에 데이터를 저장하고, 그 데이터에 이름을 붙이는 메커니즘을 배울 것입니다."

## 📚 Chapter 02. 변수와 데이터 타입 - 섹션 2.1 변수 선언과 할당

### 🎬 도입 스토리 (약 480자)

'뉴런테크'의 신입 사원인 당신은 이제 막 기초를 뗐습니다. 팀장은 당신에게 새로운 임무를 줍니다. "우리 회사가 개발 중인 RPG 게임의 '캐릭터 정보 시스템' 초기 모델을 만들어 보세요. 캐릭터의 이름, 레벨, 체력 수치를 다뤄야 합니다."

당신은 생각합니다. '어제 배운 `print()`로 그냥 화면에 찍으면 되나?' 하지만 문제가 생깁니다. 게임 중에 몬스터에게 공격을 받으면 체력이 줄어들어야 하고, 레벨업을 하면 숫자가 커져야 합니다. 단순히 `print(100)`이라고 코드를 짜두면, 나중에 이 숫자가 90으로 변했을 때 프로그램 전체를 뒤져서 숫자를 일일이 수정해야 할까요?

시니어 개발자는 말합니다. "데이터는 살아 움직이는 생물과 같습니다. 그 데이터를 어딘가에 안전하게 담아두고, 필요할 때마다 꺼내 쓰거나 내용을 바꿀 수 있는 '이름표'가 필요하죠. 그것이 바로 **변수(Variable)**입니다. 오늘 우리는 메모리라는 거대한 창고에 데이터를 저장하고, 그 데이터에 이름을 붙이는 메커니즘을 배울 것입니다."

#### 기본 개념: 변수는 '데이터의 이름표'다

프로그래밍에서 변수는 데이터를 담는 **그릇**이자, 그 데이터를 가리키는 **이름**입니다.

- **선언 및 할당**: `hp = 100`이라고 쓰면, `100`이라는 데이터를 `hp`라는 이름으로 부르겠다'는 뜻입니다.
- **유연성**: 나중에 `hp = 90`이라고 다시 쓰면, `hp`라는 이름표가 `100`에서 `90`으로 옮겨붙게 됩니다. <br>우리는 이제 `100`, `90` 같은 구체적인 숫자 대신 `hp`라는 이름만 기억하면 됩니다.

#### 깊이 있는 이해: 내부 동작 원리 (Python의 객체 참조 방식)

많은 입문서에서 변수를 '박스'에 비유하지만, 시니어 레벨로 올라가기 위해서는 파이썬만의 특수한 방식을 이해해야 합니다. 파이썬은 **"모든 것이 객체(Object)"** 인 언어입니다.

> [!tip]
> 객체란? 데이터와 그 데이터를 다루는 기능(메서드)이 하나로 묶여 있는 독립적인 단위입니다. <br> 예를 들어, 숫자 `100`도 객체이고, 문자열 `"Hello"`도 객체입니다.

1. **메모리 할당 (Heap 영역)**:
   - 여러분이 `level = 1`이라고 입력하면, 파이썬 인터프리터는 메모리의 **힙(Heap)** 이라는 공간에 '1'이라는 정수 객체를 먼저 만듭니다.
   - 이 객체는 메모리 주소(예: `0x1024`)를 가집니다.

2. **이름 바인딩 (Reference)**:
   - `level`이라는 이름(변수)은 '1'이라는 상자 자체가 되는 것이 아니라, '1'이 들어있는 **주소를 가리키는 포인터(화살표)** 역할을 합니다.
   - 이를 '바인딩(Binding)' 또는 '참조(Reference)'라고 부릅니다.

3. **재할당의 마법**:
   - `level = 2`로 값을 바꾸면, 기존의 '1'이 '2'로 변하는 것이 아닙니다.
   - 메모리 어딘가에 '2'라는 새로운 객체가 생성되고, `level`이라는 화살표가 '1'을 버리고 '2'를 가리키게 되는 것입니다.
   - 화살표를 잃고 혼자 남겨진 '1'은 나중에 우리가 배운 \*_가비지 컬렉터(GC)_ \*가 청소해 버립니다.

    <img src="../../00_img/01-01_pvm.png" alt="파이썬 변수 참조 메커니즘" style="max-width:100%; height:auto;">

> [!note]
> **OS 관점**: 파이썬 프로세스는 OS로부터 일정량의 RAM(메모리)을 할당받아 관리합니다. 변수를 선언할 때마다 파이썬의 메모리 관리자(Python Memory Manager)는 OS에 "데이터를 저장할 공간이 더 필요해!"라고 요청하거나, 미리 확보한 공간을 효율적으로 쪼개어 사용합니다. <br>

> [!tip]
> 파이썬은 메모리를 계층적으로 나누어 관리하며, 필요에 따라 OS에 추가 메모리를 요청합니다.
>
> 1. Arenas (256KB): 파이썬은 OS에 메모리를 요청할 때 Arena라고 불리는 256KB 단위의 덩어리로 요청합니다. (C의 malloc 호출)
> 2. Pools (4KB): Arena는 다시 4KB 크기의 Pool로 나뉩니다. 이는 OS의 페이지(Page) 크기와 맞춘 것입니다.
> 3. Blocks: 실제 객체 데이터가 담기는 최소 단위입니다.
>
> #### 왜 이렇게 설계되었을가?
>
> 1. 범용성 : <br> 파이썬은 다양한 분야에서 사용되어 애플리케이션의 스펙이 다양하기 때문이다.
>    - ex : 간단한 스크립트(계산기)에 1GB 메모리는 낭비일 수 있다.
> 2. C 확장성 : <br> 파이썬은 C로 작성된 라이브러리(NumPy 등)를 빈번하게 호출합니다. <br>파이썬 전용 메모리 공간을 너무 엄격하게 제한하면, C 라이브러리가 직접 OS 메모리를 사용하는 것과 충돌하거나 비효율이 발생할 수 있습니다.
> 3. 메모리 파편화 방지: <br>작은 객체가 워낙 많은 파이썬의 특성상, 미리 크게 잡아놓기보다 PyMalloc(작은 객체 전용 할당기)을 통해 촘촘하게 쪼개 쓰는 것이 효율적입니다.
>
> | 비교 항목        | Java (JVM)                          | Python (CPython)                                 |
> | ---------------- | ----------------------------------- | ------------------------------------------------ |
> | **초기 확보**    | `-Xmx` 등으로 대규모 공간 선점      | 최소한의 공간으로 시작, > 필요시 확장            |
> | **OS 통신 빈도** | 낮음 (미리 확보한 내부에서 해결)    | 상대적으로 높음 (Arena 단위로 수시 요청)         |
> | **메모리 반납**  | GC가 돌아도 OS에 즉시 반납하지 않음 | 사용하지 않는 Arena가 완전히 비면 OS에 반납 가능 |
> | **철학**         | "내가 다 관리할 테니 큰 방 하나 줘" | "상황 봐서 필요한 만큼만 빌려 쓸게"              |

### 주의사항 및 베스트 프랙티스

- **의미 있는 이름 (Descriptive Names)**:
  - `a = 10`보다는 `user_level = 10`이 훨씬 좋은 코드입니다. <br> 변수명만 보고도 데이터의 용도를 알 수 있어야 합니다. `name`, `level`, `current_hp` 같은 이름을 사용하세요.
- **소문자 사용 권장**:
  - 파이썬에서는 변수명을 지을 때 소문자를 사용하는 것이 일반적입니다.<br> 대문자는 클래스 이름에 주로 사용됩니다.
- **스네이크 케이스 (snake_case)**:
  - 파이썬에서는 여러 단어를 조합할 때 밑줄(`_`)을 사용하는 것이 관례입니다. (예: `max_health_point`)
- **예약어 사용 금지**:
  - `print`, `if`, `while` 같은 파이썬이 이미 쓰고 있는 단어는 변수명으로 쓸 수 없습니다.<br> 만약 `print = 10`이라고 해버리면, 더 이상 `print()` 함수를 사용할 수 없게 되는 대참사가 벌어집니다.
