## 📚 Chapter 02. 변수와 데이터 타입 - 섹션 2.5 None과 NoneType

### 🎬 도입 스토리

뉴런테크의 사용자 관리 시스템을 구축하던 당신은 예상치 못한 문제에 부딪힙니다. "사용자의 '중간 이름(Middle Name)' 정보를 저장해야 하는데, 한국인 사용자는 보통 중간 이름이 없잖아요? 이럴 땐 어떤 값을 넣어줘야 하죠?"

당신은 고민합니다. 숫자 `0`을 넣자니 이름에 숫자가 들어가는 게 이상하고, 빈 문자열 `""`을 넣자니 "이름이 비어있다"는 것과 "이름이라는 정보 자체가 존재하지 않는다"는 것의 차이를 구분하기 어렵습니다.

이때 시니어 개발자가 힌트를 줍니다. "데이터가 '0'인 것과 '데이터가 존재하지 않는 것'은 완전히 다른 차원의 이야기입니다. 전자는 값이 존재하는 것이고, 후자는 값이 '부재'하는 상태죠. 파이썬은 이런 '부재의 상태'를 표현하기 위해 아주 특별한 예약어를 준비해 두었습니다. 바로 `None`입니다.

오늘은 파이썬 세계의 허무(虛無), `None`이 메모리 위에서 어떻게 유일무이한 존재로 살아가는지 살펴보겠습니다."

---

### None이란 무엇인가?

`None`은 파이썬에서 **"값이 없음"** 또는 **"알 수 없음"** 을 명시적으로 나타내는 특수한 상수입니다.

- **부재의 명시**: 변수를 선언은 했지만 아직 유의미한 값을 할당할 수 없을 때 초기값으로 사용합니다.
- **구분**: `0` (정수), `False` (불리언), `""` (빈 문자열)과는 다릅니다. 이들은 모두 각자의 타입에서 '값'을 가지고 있는 상태지만, `None`은 그 어떤 값도 아님을 의미합니다.

### 내부 동작 원리 (None은 싱글톤이다)

**1. 메모리 관점: 단 하나의 존재 (Singleton Pattern)** <br>
파이썬(CPython) 인터프리터가 실행될 때, 메모리에는 단 하나의 `None` 객체가 생성됩니다. 여러분이 코드 어디에서 `None`을 사용하든, 그것들은 모두 메모리 상의 **동일한 주소**를 가리킵니다.

- 이를 **싱글톤(Singleton)** 패턴이라고 합니다.
- 수만 개의 변수에 `None`을 할당해도, 실제 메모리에는 'None' 객체 하나만 존재하므로 메모리 효율성이 극대화됩니다.

**2. NoneType의 정체** <br>
`None`은 그 자체로 데이터 타입이 아닙니다. `None`이라는 객체가 속한 클래스가 바로 `NoneType`입니다. 파이썬에서 `NoneType`의 인스턴스는 오직 `None` 하나뿐입니다.

**3. OS 및 컴파일러 레벨에서의 의미** <br>
C언어와 같은 저수준 언어에서는 '아무것도 가리키지 않는 포인터'를 `NULL`이라고 부르며, 이를 잘못 참조할 경우 프로그램이 즉시 종료(Segmentation Fault)되는 위험이 있습니다. 파이썬의 `None`은 이러한 `NULL`의 개념을 안전하게 객체화한 것입니다. 내부적으로 인터프리터는 `None`을 만나면 이를 `PyNoneObject`라는 C 구조체로 처리하며, 개발자가 안전하게 '비어 있음'을 검사할 수 있도록 설계되었습니다.

### 주의사항 및 베스트 프랙티스

- **비교 연산 시 `is` 사용**: <br>
  `None`을 확인할 때는 `== None` 대신 `is None`을 사용하는 것이 관례이자 성능상 이점이 있습니다. `is` 연산자는 값이 같은지가 아니라 **"메모리 주소가 같은지"** 를 직접 비교하기 때문에, 싱글톤인 `None`을 체크하는 데 가장 빠르고 정확합니다.
  ```python
  print(variable is None)  # 올바른 방법
  print(variable == None)  # 권장되지 않는 방법
  ```
- **함수의 기본 반환값**: <br>
  파이썬에서 아무것도 반환하지 않는 함수는 보이지 않는 곳에서 항상 `None`을 반환합니다.
- **타입 힌팅과의 조합**: <br>
  2.4 섹션에서 배운 타입 힌팅과 결합하여 `name: str | None = None`과 같이 사용하면, "이 변수는 문자열일 수도 있고, 비어 있을 수도 있다"는 의도를 완벽하게 전달할 수 있습니다.

### 🎓 핵심 요약

이번 섹션에서 우리는 다음 내용을 배웠습니다:

1. **None의 정의**: '값이 없음'을 나타내는 파이썬의 유일무이한 객체입니다.
2. **싱글톤 패턴**: 모든 `None`은 메모리 상의 동일한 주소를 공유하여 자원을 절약합니다.
3. **is 연산자**: `None`을 비교할 때는 값의 비교(`==`)가 아닌 객체의 동일성 비교(`is`)를 사용하는 것이 정석입니다.
4. **타입 힌팅 조합**: `Type | None` (Union 타입)을 통해 데이터가 비어 있을 가능성을 안전하게 코드로 표현할 수 있습니다.
