## 📚 Chapter 02. 변수와 데이터 타입 - 섹션 2.3 타입 변환과 타입 체킹

### 🎬 도입 스토리

뉴런테크의 쇼핑몰 프로젝트에 투입된 당신. 사용자가 입력한 주문 수량을 받아 결제 금액을 계산하는 기능을 만들고 있습니다. 사용자가 "5"를 입력했고, 상품 가격은 10,000원입니다. 당신은 자신 있게 `print("결제 금액:", "5" * 10000)`이라고 코드를 짰습니다. 그런데 결과는 50,000원이 아니라 `"5"가 만 번 반복`되어 출력되는 대참사가 발생했습니다!

사수가 웃으며 다가와 말합니다. "컴퓨터는 텍스트로 된 '5'와 숫자로 된 '5'를 전혀 다르게 취급해요. 웹 브라우저나 파일에서 읽어온 데이터는 대부분 '문자열' 형태죠. 이걸 우리가 원하는 숫자로 바꾸지 않으면 계산기는 고장 난 장난감이 됩니다. 오늘은 데이터의 '신분(Type)'을 바꾸는 **타입 변환(Casting)** 과, 이 데이터가 정말 내가 생각한 타입이 맞는지 검사하는 **타입 체킹(Checking)** 의 기술을 배워볼 겁니다."

---

### 기본 개념: 타입 변환(Type Conversion / Casting)

타입 변환은 한 데이터 타입을 다른 타입으로 강제로 바꾸는 행위입니다. <br> 파이썬에서는 크게 두 가지 방식이 있습니다.

1. **암시적 형변환 (Implicit Conversion)**: 파이썬 인터프리터가 자동으로 수행합니다.
   - 예: `10 + 3.5` → 정수(10)와 실수(3.5)를 더하면, 데이터 손실을 막기 위해 파이썬이 알아서 정수를 실수로 바꿔 결과값 `13.5`를 냅니다.

2. **명시적 형변환 (Explicit Conversion)**: 개발자가 직접 함수를 써서 바꿉니다.
   - `int()`: 정수로 변환
   - `float()`: 실수로 변환
   - `str()`: 문자열로 변환
   - `bool()`: 불리언으로 변환

### 내부 동작과 메모리 재할당

타입 변환이 일어날 때 메모리 내부에서는 어떤 일이 벌어질까요?

- **새로운 객체 생성**:<br>
  파이썬에서 타입 변환은 기존 객체의 '모양'을 바꾸는 게 아닙니다. 예를 들어 `a = int("100")`을 실행하면, 메모리 어딘가에 있는 문자열 `"100"` 객체를 읽어 들여, **완전히 새로운 정수 객체 `100`을 다른 메모리 주소에 생성**하고 `a`가 그곳을 가리키게 만듭니다.
- **파싱(Parsing) 과정**: <br>
  `int("100")`을 호출하면 인터프리터는 문자열 내부의 유니코드 문자들을 하나씩 검사합니다. 만약 숫자가 아닌 문자(예: "10a")가 섞여 있다면, 메모리 할당을 중단하고 즉시 **ValueError**를 발생시킵니다. 이는 프로그램의 '안전성'을 위한 OS 수준의 예외 처리 메커니즘과 연결됩니다.

### 타입 체킹: 데이터의 정체 확인

실무에서는 변수에 어떤 타입이 들어있는지 확인해야 할 때가 많습니다.

- **`type()` 함수**: 객체의 클래스 타입을 반환합니다.
- **타입 비교**: `type(data) == int`와 같은 방식으로 현재 데이터가 정수인지 아닌지 판별할 수 있습니다. (나중에 배울 조건문에서 핵심적으로 쓰입니다.)

### 주의사항 및 베스트 프랙티스

- **데이터 손실 주의**: 실수를 정수로 변환(`int(3.9)`)하면 소수점 이하는 버려집니다(`3`). 반올림이 아니라 '절삭'임에 유의하세요.
- **불리언 변환의 규칙**: 빈 문자열 `""`, 숫자 `0`, `None` 등은 `bool()` 변환 시 `False`가 됩니다. 그 외 대부분은 `True`입니다.
- **명시적 변환 권장**: 파이썬이 자동으로 해주길 기다리기보다, 의도가 명확하도록 직접 변환 함수를 사용하는 것이 시니어의 코드 스타일입니다.

### 🎓 핵심 요약

1. **명시적 형변환**: `int()`, `float()`, `str()`, `bool()` 함수를 사용하여 데이터의 신분을 의도적으로 바꾸는 법을 익혔습니다.
2. **형변환의 메모리 원리**: 타입 변환은 기존 객체를 고치는 것이 아니라, 새로운 타입을 가진 객체를 메모리에 새로 생성하는 과정입니다.
3. **암시적 형변환**: 파이썬이 연산 과정에서 데이터 손실을 줄이기 위해 자동으로 타입을 승격(예: int -> float)시키는 메커니즘을 이해했습니다.
4. **타입 체킹**: `type()`을 통해 런타임에 데이터의 정체를 확인하고 안전한 코드를 작성하는 기초를 닦았습니다.
