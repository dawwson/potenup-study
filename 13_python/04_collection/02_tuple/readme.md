## 📚 Chapter 04. 컬렉션 자료구조 - 섹션 4.2 튜플 (Tuple)

### 🎬 도입 스토리

뉴런테크의 '자율주행 드론 제어 팀'에서 일하고 있는 당신. 드론이 비행할 때 절대 변해서는 안 되는 '기준점 좌표(Home Location)'와 '서버 접속 IP 주소'를 관리하는 코드를 작성하고 있습니다.

당신은 지난 섹션에서 배운 리스트를 사용해 `home_coords = [37.5, 126.9]`라고 선언했습니다. 그런데 협업하던 동료 개발자가 실수로 코드 중간에 `home_coords[0] = 38.5`라고 값을 수정해 버리는 바람에, 드론이 엉뚱한 곳으로 복귀하는 아찔한 사고가 날 뻔했습니다.

시니어 개발자가 긴급 회의에서 말합니다. "리스트는 아주 유연하지만, 그 유연함이 때로는 독이 됩니다. 시스템 설정값이나 좌표처럼 **변경되지 않아야 하는 고정된 데이터**에는 리스트를 쓰는 게 아닙니다. 이럴 때는 데이터에 '잠금 장치'를 걸어주는 **튜플(Tuple)** 이 정답이죠. 튜플은 단순한 '읽기 전용 리스트'가 아닙니다. 메모리를 더 아끼고 실행 속도를 높여주는 효율성의 끝판왕이죠. 오늘 그 이유를 증명해 보겠습니다."

---

### 기본 개념: 튜플은 '불변의 데이터 묶음'

튜플은 리스트와 매우 유사하지만, 한 번 생성하면 그 안의 내용을 **추가, 삭제, 수정할 수 없는(Immutable)** 자료형입니다.

- **소괄호 `()`** 를 사용하여 정의하며, 각 항목은 쉼표(,)로 구분합니다.
  - 예: `coordinates = (37.5, 126.9)`
- **인덱싱과 슬라이싱**: 리스트와 동일하게 인덱스 번호로 접근할 수 있습니다.
  - 예: `coordinates[0]`는 `37.5`를 반환합니다
- **불변성**: `append()`, `remove()` 같은 메서드가 아예 존재하지 않습니다.
  - 예: `coordinates[0] = 38.5`는 `TypeError`를 발생시킵니다.
- **중첩 가능**: 튜플 안에 리스트나 다른 튜플을 담을 수 있습니다.
  - 예: `data = (1, [2, 3], (4, 5))`
- **다양한 타입**: 리스트와 마찬가지로 여러 타입을 섞어 담을 수 있습니다.
  - 예: `mixed = (10, "Hello", 3.14, True)`
  - 예: `empty_tuple = ()` (빈 튜플)

### 내부 동작 원리와 효율성

**1. 메모리 오버헤드 최적화 (Memory Efficiency)** <br>
리스트와 튜플의 가장 큰 차이는 **메모리 할당 방식**에 있습니다.

- **리스트 (Dynamic Array)**: <br> 나중에 데이터가 추가될 것을 대비하여 실제 데이터보다 더 넓은 메모리 공간을 미리 확보해 둡니다(Over-allocation).
- **튜플 (Fixed-size Array)**: <br> 생성 시점에 필요한 만큼의 메모리만 **딱 맞춰서** 할당합니다. (변하지 않으므로 추가 공간이 필요 없음)

이 차이 때문에 동일한 데이터를 저장하더라도 튜플이 리스트보다 메모리를 훨씬 적게 사용합니다. 수백만 개의 좌표 데이터를 다루는 시스템이라면 이 차이는 거대한 서버 비용 절감으로 이어집니다.

**2. 실행 속도의 이점** <br>
파이썬 인터프리터는 튜플을 처리할 때 리스트보다 훨씬 빠르게 동작합니다.

- 튜플은 내용이 변하지 않기 때문에 인터프리터가 내부적으로 **최적화**를 더 강하게 할 수 있습니다.
- 특히 아주 작은 튜플들은 파이썬이 실행될 때 미리 메모리에 올려두고 재사용(Interning)하기도 합니다.

**3. 데이터 무결성(Data Integrity)과 해싱(Hashing)**

- **무결성**:
  - 코드가 복잡해져도 튜플에 담긴 데이터는 처음 그대로임이 보장됩니다.
  - 이는 디버깅 시간을 획기적으로 줄여줍니다.
- **해싱**:
  - 나중에 배울 '딕셔너리'의 키값으로 리스트는 쓸 수 없지만, 튜플은 쓸 수 있습니다.
  - 내용이 변하지 않아야만 고유한 식별자로 쓸 수 있기 때문입니다.

### 주의사항 및 베스트 프랙티스

- **단일 요소 튜플**: <br>항목이 하나뿐인 튜플을 만들 때는 반드시 쉼표를 붙여야 합니다. <br>`(10,)`은 튜플이지만, `(10)`은 그냥 괄호에 둘러싸인 정수로 인식됩니다.
- **패킹과 언패킹 (Packing & Unpacking)**: <br>
  튜플은 여러 변수에 값을 한 번에 나눠 담는 '언패킹' 기능이 매우 강력합니다.<br> 시니어들은 함수에서 여러 값을 반환할 때 이를 적극 활용합니다.

- **언제 쓰는가?**:
  - 위도/경도, RGB 색상 값 등 성격이 변하지 않는 데이터 그룹
  - 데이터베이스에서 가져온 한 줄(Record)의 데이터
  - 프로그램 설정값(Constants)

### 🎓 핵심 요약

이번 섹션에서 우리는 다음 내용을 배웠습니다:

1. **튜플의 본질**: 한 번 생성하면 내용을 바꿀 수 없는(Immutable) 순서 있는 자료구조입니다.
2. **데이터 무결성**: 실수로 인한 값 변경을 문법 수준에서 차단하여 시스템의 안정성을 높입니다.
3. **성능 최적화**: 리스트보다 메모리를 적게 차지하며, 인터프리터 레벨에서 더 빠른 처리 속도를 제공합니다.
4. **언패킹과 중첩**: 여러 변수에 값을 한 번에 할당하거나, 리스트 안에 튜플을 담아 복잡한 실무 데이터를 구조화하는 법을 익혔습니다.
