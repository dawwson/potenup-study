## 📚 Chapter 04. 컬렉션 자료구조 - 섹션 4.3 딕셔너리 (Dictionary)

### 🎬 도입 스토리

뉴런테크의 '사용자 경험(UX) 데이터 분석 팀'에 오신 것을 환영합니다. 오늘 여러분에게 주어진 과제는 100만 명의 회원 정보 중 특정 사용자의 '연락처'를 0.001초 만에 찾아내는 시스템을 구축하는 것입니다.

처음에는 리스트를 떠올리셨을 겁니다. 하지만 리스트로 회원 정보를 관리하면, "홍길동"이라는 이름을 찾기 위해 0번 인덱스부터 최악의 경우 999,999번 인덱스까지 모든 칸을 열어봐야 합니다. 데이터가 10억 개로 늘어난다면 서비스는 멈춰버리고 말겠죠.

시니어 개발자는 이럴 때 "이름표(Key)를 붙여서 서랍에 바로 던져 넣어라"고 조언합니다. 마치 백과사전에서 특정 단어를 찾을 때 첫 페이지부터 읽지 않고 색인을 보고 바로 페이지를 펼치는 것과 같습니다. 오늘 배울 **딕셔너리(Dictionary)** 는 파이썬에서 가장 영리한 자료구조로, 데이터가 아무리 많아져도 원하는 값을 즉시 찾아내는 '해시(Hash)'라는 마법을 부립니다. 그 압도적인 성능의 비밀을 지금부터 공개합니다.

---

### 기본 개념: 딕셔너리는 '키-값(Key-Value) 쌍'의 집합

딕셔너리는 '키(Key)'와 '값(Value)'이 한 쌍으로 묶여 저장되는 자료구조입니다.

- **중괄호 `{}`**를 사용하며, `키: 값`의 형태로 표기합니다.
- **키(Key)**: 데이터를 찾기 위한 유일한 식별자입니다. (예: 학번, 아이디, 주민번호)
- **값(Value)**: 해당 식별자에 연결된 실제 데이터입니다.

### 깊이 있는 이해: 내부 동작 원리 (Hash Table)

**1. 해시 함수(Hash Function)의 마법** <br>
딕셔너리가 리스트보다 압도적으로 빠른 이유는 **해시 테이블(Hash Table)** 이라는 구조 덕분입니다.

- 여러분이 `user_info["name"] = "Alice"`라고 입력하면, 파이썬은 내부적으로 `"name"`이라는 문자열을 **해시 함수**에 통과시킵니다.
  - 예 : "name" -> 해시 함수 -> 501 (예시 숫자)
- 해시 함수는 이 문자열을 특정 숫자(메모리 주소의 인덱스)로 변환합니다.
  - 예 : 501 -> 메모리 주소 501번 칸을 의미 `501 => "Alice"`
- 예를 들어 `"name"`이 해시 함수를 통해 `501`이라는 숫자가 되었다면, `"Alice"`라는 데이터는 메모리의 501번 칸에 저장됩니다. 나중에 데이터를 찾을 때도 다시 `"name"`을 해시하여 바로 501번 칸으로 직행합니다.
  - 예 : `user_info["name"]` -> 해시 함수 -> 501 -> 메모리 주소 501번 칸에서 "Alice" 반환

**2. 시간 복잡도: $O(1)$의 세계** <br>
리스트에서 데이터를 찾는 것은 데이터 개수()에 비례하여 시간이 걸리는 작업입니다. 하지만 딕셔너리는 데이터가 10개든 100억 개든 상관없이, 해시 연산 한 번으로 위치를 계산하기 때문에 **상수 시간** 만에 데이터를 찾아냅니다. 이것이 검색 엔진이나 대규모 서버 통신에서 딕셔너리가 필수인 이유입니다.

**3. 키(Key)의 조건: 해시 가능성(Hashable)** <br>
딕셔너리의 키는 반드시 **내용이 변하지 않는(Immutable)** 타입이어야 합니다.

- **사용 가능**: 문자열(str), 정수(int), 실수(float), 튜플(tuple)
- **사용 불가**: 리스트(list) - 리스트는 내용이 바뀔 수 있기 때문에 해시값이 고정되지 않아 키로 쓸 수 없습니다.

### 주의사항 및 베스트 프랙티스

- **Key의 유일성**:
  - 딕셔너리에 동일한 키를 두 번 쓰면, 나중에 쓴 값이 이전 값을 덮어씁니다.
  - (실무에서 데이터 누락 사고의 주원인입니다.)
- **`KeyError` 방지**:
  - 존재하지 않는 키를 `dict[key]` 방식으로 부르면 프로그램이 종료됩니다.
  - 안전하게 값을 가져오려면 `.get()` 메서드를 사용하는 습관을 들이세요.
- **메모리 사용량**:
  - 딕셔너리는 빠른 속도를 위해 메모리를 넉넉하게 사용하는 편입니다.
  - 속도가 중요한지, 메모리 절약이 중요한지에 따라 리스트와 딕셔너리를 선택해야 합니다.

### 🎓 핵심 요약

이번 섹션에서 우리는 다음 내용을 배웠습니다:

1. **딕셔너리의 본질**: 유일한 '키'를 통해 '값'을 초고속으로 찾아내는 가변 자료구조입니다.
2. **해시 테이블 원리**: 해시 함수를 이용해 데이터의 위치를 즉시 계산하므로 검색 속도가 $O(1)$입니다.
3. **데이터 무결성**: 키는 반드시 불변(Immutable) 타입이어야 하며, 중복될 수 없습니다.
4. **방어적 코딩**: `.get()` 메서드와 `in` 연산자를 활용하여 존재하지 않는 키 참조로 인한 에러를 방지하는 법을 익혔습니다.
